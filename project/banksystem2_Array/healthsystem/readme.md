# 🍽️ GSH_COOK - Health Recipe System (Array Version)

> 배열과 테마를 활용해 구현한  
> **다중 사용자 기반 스마트 헬스 & 레시피 추천 콘솔 시스템**

---

## 📅 프로젝트 개요

- **제작일**: 2025-09  
- **구현 목적**  
  기존 뱅크 시스템 구조를 확장하여  
  **배열을 활용한 다중 사용자 정보 관리**를 구현하고,  
  사용자별 건강 정보(BMI)를 기반으로  
  **맞춤형 식단 및 영양소 중심 레시피 추천 시스템**을 설계하는 데 목적을 둔 프로젝트입니다.

---

## 🛠 사용 기술

- **Language**: Java
- **Input**: Scanner
- **Core Concepts**
  - 배열(Array)을 활용한 데이터 구조화
  - 조건문 (`if / else`, `switch`)
  - 반복문 (`for`, `while`)
  - 사용자 인덱스 기반 상태 관리
  - 콘솔 인터랙션 설계

---

## 🧩 코드 구조 요약

- 고정 크기 배열을 활용한 사용자 정보 관리
  - `ids[]`, `pws[]`, `age[]`, `weight[]`, `height[]`, `rank[]`
  - 사용자별 즐겨찾기 식단 관리: `favorites[][]`
- 로그인 성공 시 사용자 인덱스(`loginuser`) 저장
- `level / old_level` 기반 메뉴 흐름 제어
- 모든 기능은 로그인된 사용자 인덱스를 기준으로 동작

---

## 🎮 시스템 특징

### 1️⃣ 메뉴 기반 상태 제어
- `level` 변수를 활용한 **switch-case 메뉴 구조**
- 회원가입 → 로그인 → 기능 접근 순서 강제
- 비정상 입력에 대한 예외 처리(`hasNextInt`, `hasNextDouble`)

---

### 2️⃣ 다중 회원 시스템
- 최대 `MAX_USERS = 3` 명까지 회원 관리
- ID 중복 검사 로직 구현
- 회원 탈퇴 시 배열 데이터 초기화
- 로그인 성공 시 사용자별 데이터 접근 가능

---

### 3️⃣ 건강 정보 조회 (BMI 기반)
- 키(cm), 체중(kg)을 이용한 BMI 계산
- BMI 수치에 따라 건강 등급 분류
  - 🍃 Underweight
  - 💪 Healthy
  - 🍔 Overweight
  - ⚠ Obese
- 다음 목표 체중(증가/감량) 안내 메시지 제공

---

### 4️⃣ 식단 추천 시스템 (영양소 기반)
사용자 입력에 따라 **맞춤형 레시피 추천 기능**을 제공합니다.

- 기준 요소
  - 목표 칼로리 (필수)
  - 단백질 / 탄수화물 / 지방 (선택)
- 조건 오차 범위 내 레시피 필터링
- 추천 메뉴별
  - 영양소 정보 출력
  - 달리기 / 수영 기준 소모 시간 안내

---

### 5️⃣ 요리 레시피 제공
- 메뉴명을 입력하면 해당 요리 레시피 출력
- 재료 + 단계별 조리 방법 제공
- 등록되지 않은 메뉴 입력 시 예외 처리

---

### 6️⃣ 사용자 맞춤 식단 저장
- 사용자별 즐겨찾기 식단 최대 5개 저장
- 중복 저장 방지
- 저장된 식단 목록 조회 가능

---

## 🔄 프로그램 흐름 요약

```text
프로그램 시작
 → 메인 메뉴 출력
 → 회원가입 (다중 사용자)
 → 로그인
 → 건강 정보 조회 / 식단 추천 / 레시피 확인
 → 사용자 맞춤 식단 저장
 → 메뉴 복귀 또는 종료
```

---

## ▶ 실행 방법

1. Java 11 이상 환경에서 실행  
2. `Bank_Test_3.java` 실행  
3. 콘솔 안내에 따라 메뉴 번호 입력

---

## 🧯 Trouble Shooting

### 🔴 문제: 메뉴 이동 중 기능이 의도치 않게 건너뛰는 현상 발생

초기 구현 단계에서  
건강 정보 조회나 식단 추천 기능 실행 후  
메인 메뉴로 정상 복귀하지 않거나,  
**로그인/등급 판별 로직이 중복 실행되는 문제**가 발생했다.

특히

- 로그인 이후 특정 기능을 실행하면
- 메뉴 흐름이 꼬여 다시 로그인 화면으로 이동하거나
- 출력 메시지가 두 번 나타나는 현상이 확인되었다.

---

### 🔍 원인 분석

- 하나의 기능 안에서  
  **입력 처리 + 로직 실행 + 등급 판별 + 메뉴 이동**을 동시에 처리하고 있었음
- `switch-case` 구조 내부에서  
  상태 변경(`level`)이 여러 번 발생하여 실행 흐름을 예측하기 어려웠음
- 사용자 행동 흐름과 프로그램 흐름이 명확히 분리되지 않음

---

### 🛠 해결 방법

- 메뉴 이동을 전담하는 변수 구조를 명확히 분리
  - `level` : 현재 실행할 기능
  - `old_level` : 로그인/등급 처리 후 돌아갈 위치
- **등급 판별 로직을 별도 단계(level 7)로 분리**
- 각 기능에서는
  - 입력 처리
  - 핵심 로직 수행
  - 다음 단계 지정  
    만 수행하도록 역할 단순화

```text
기능 실행
 → old_level 저장
 → level = 7 (등급 판별)
 → 등급 처리
 → level = old_level 복귀
```

---

### ✅ 결과

- 메뉴 흐름이 끊기지 않고 자연스럽게 복귀  
- 로그인 / 등급 / 기능 실행 간 책임 분리  
- 이후 메서드 분리 및 객체화(OOP) 리팩토링이 가능한 구조 확보  
- **콘솔 프로그램임에도 실제 서비스 흐름에 가까운 UX 구현**

