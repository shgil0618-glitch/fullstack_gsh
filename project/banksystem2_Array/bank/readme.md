





# 🏦 BankSystem 2 - Array Version

> 배열을 활용해 **다중 사용자 계좌를 관리**하고  
> 게임 요소와 사용자 정보 기반 로직을 확장한  
> **콘솔 기반 참여형 뱅크 시스템**

---

## 📅 프로젝트 개요

- **제작일**: 2025-09  
- **프로젝트 배경**

기존의 BankSystem Control Version을 확장하여  
**배열을 활용한 다중 사용자 관리** 구조로 개선했습니다.

은행 테마를 유지하면서  
사용자별 계좌 정보, 나이, 경험치, 등급을 분리 관리하고  
기능 간 응집도를 높여 **실생활 적용 가능성**을 고려한 설계를 목표로 했습니다.

---

## 🛠 사용 기술

- **Language**: Java  
- **Input**: Scanner  
- **Core Concepts**
  - 배열(Array)을 활용한 데이터 구조화
  - 조건문 / 반복문 기반 상태 제어
  - 사용자 인덱스 기반 계좌 관리
  - 콘솔 인터랙션 설계

---

## 🧩 코드 구조 요약

- 고정 크기 배열을 사용한 사용자 정보 관리
  - `ids[]`, `pws[]`, `balance[]`, `age[]`, `exp[]`, `rank[]`
- `loginuser` 인덱스를 기준으로  
  로그인된 사용자 정보 접근
- `level / old_level` 기반 메뉴 상태 전환
- 단일 클래스, 절차형 구조 유지

---

## 👥 사용자 관리 구조

- 최대 사용자 수: `MAX_USERS = 3`
- 회원가입 시 빈 인덱스를 탐색하여 사용자 등록
- ID 중복 검사를 통한 계정 무결성 유지
- 로그인 성공 시 사용자 인덱스(`loginuser`) 저장

---

## 🎮 주요 기능

### 1️⃣ 회원가입 / 로그인
- 다중 사용자 회원가입 지원
- 만 19세 이상만 가입 가능
- 로그인 후에만 주요 기능 접근 가능

---

### 2️⃣ 잔액 조회
- 로그인 사용자 기준 잔액 출력
- 현재 고객 등급 함께 표시

---

### 3️⃣ 입금 / 출금 시스템
- 사용자별 잔액 관리
- 입금/출금 시 경험치(exp) 증가
- 잔액 조건에 따른 고객 등급 자동 판별

#### 🏅 고객 등급
- 🥉 Bronze  
- 🥈 Silver  
- 🥇 Gold  
- 💎 Diamond VIP  

---

### 4️⃣ 게임 요소 & 이벤트

#### 🎉 레벨업 보너스
- 경험치 100 이상 시 레벨업 발생
- 랜덤 보너스 지급
- **“묻고 더블로 가!”** 선택형 이벤트 제공

#### 🎰 럭키 세븐 이벤트
- 잔액이 `77777`원이 될 경우 자동 발동
- 주사위 선택 성공 시 추가 보너스 지급

---

### 5️⃣ 계정 삭제
- 로그인된 사용자 계정 삭제
- 배열 데이터 초기화
- 사용자 수 감소 처리

---

## 🔄 프로그램 흐름 요약

```text
프로그램 시작
 → 메인 메뉴 출력
 → 회원가입 / 로그인
 → 사용자 인덱스 설정
 → 기능 선택 (조회 / 입금 / 출금 / 삭제)
 → 상태 및 등급 갱신
 → 메뉴 복귀 또는 종료
```

---

## ▶ 실행 방법

1. Java 11 이상 환경에서 실행
2. `Bank002_Array_4.java` 실행
3. 콘솔 안내에 따라 메뉴 번호 입력

---

## 🧯 Trouble Shooting

### 🔴 문제: 다중 사용자 환경에서 계좌 정보가 섞이는 문제

초기 배열 적용 단계에서  
입금·출금 시 **다른 사용자의 잔액이 변경되는 문제**가 발생했다.

원인은  
로그인 이후에도 특정 사용자를 구분하지 않고  
**배열 전체를 기준으로 로직을 처리했기 때문**이었다.

---

### 🛠 해결 방법

다음과 같은 **사용자 인덱스 기반 상태 관리 방식**을 도입했다.

- 로그인 성공 시 사용자 인덱스를 `loginuser` 변수에 저장
- 모든 금융 기능에서 로그인 사용자 기준으로 데이터 접근

```text
balance[loginuser]
exp[loginuser]
rank[loginuser]
```

- 고객 등급 판별 로직을 별도 단계(`level 7`)로 분리하여 기능 흐름 안정화

---

### ✅ 결과

- 사용자별 데이터 충돌 문제 해결
- 다중 사용자 환경에서도 안정적인 기능 수행
- 이후 **메서드 분리 및 객체화(OOP)** 로 확장 가능한 구조 확보

---

