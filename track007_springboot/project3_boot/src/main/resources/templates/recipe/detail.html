<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragments/layout}">
<head lang="ko">
<meta charset="UTF-8">
<title>레시피 상세</title>
</head>
<body>
	<div layout:fragment="content">
		<h2 th:text="${recipe.title}">레시피 제목</h2>

		<!-- 대표 이미지 -->
		<div>
			<img th:if="${recipe.image}"
				th:src="@{/upload/{img}(img=${recipe.image})}" alt="대표 이미지"
				style="max-width: 300px;">
		</div>

		<!-- 기본 정보 -->
		<p>
			<strong>카테고리:</strong> <span th:text="${recipe.categoryName}"></span>
		</p>
		<p>
			<strong>작성자:</strong> <span th:text="${recipe.appUserId}"></span>
		</p>
		<p>
			<strong>조회수:</strong> <span th:text="${recipe.views}"></span>
		</p>
		<!-- <p><strong>좋아요:</strong> <span th:text="${likesCount}"></span></p> -->

		<!-- 설명 -->
		<div>
			<h3>설명</h3>
			<p th:text="${recipe.description}"></p>
		</div>

		<!-- 재료 -->
		<div>
			<h3>재료</h3>
			<ul>
				<li th:each="ing : ${ingredients}"
					th:text="${ing != null ? ing.ingreName + ' - ' + ing.ingreNum : ''}">
				</li>
			</ul>
		</div>

		<!-- 단계 -->
		<div>
			<h3>조리 단계</h3>
			<div th:each="st, idx : ${steps}">
				<p>
					<strong th:text="${idx+1}"></strong>. <span
						th:text="${st.stepDesc}"></span>
				</p>
				<img th:if="${st.stepImage}"
					th:src="@{/upload/{img}(img=${st.stepImage})}" alt="단계 이미지"
					style="max-width: 200px;">
			</div>
		</div>

		<!-- 버튼 -->
		<div style="margin-top: 20px;">
			<a th:href="@{/recipes/modify(recipeId=${recipe.recipeId})}">수정</a> <a
				th:href="@{/recipes/delete(recipeId=${recipe.recipeId})}"
				onclick="return confirm('삭제하시겠습니까?')">삭제</a> <a
				th:href="@{/recipes/list}">목록으로</a>
		</div>
	</div>
</body>
</html>