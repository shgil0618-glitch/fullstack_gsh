
```
# ■ Github   
### 12. 깃허브 협업 
#1. 가방에 담기 (불꽃마법재료)
git add .

#2. 가방에 메시지 남기기 (불꽃마법 완성)
git commit -m "메시지"

#3. [공용-github - 마법책] 같은 마법책을 쓰니깐 서로 바뀐거 확인
git pull origin master

#4. [공용-github - 마법책] 에 불꽃마법 올리기 (공유)
git push origin master

```

■2. 깃협업
1. 팀원초대
2. 협업 중 같은 파일을 수정하면서 생기는 충돌(conflict) 해결

```
#1. 팀장 - 팀원초대 (github 웹)

#2. 팀원 - repository 클론
git clone 깃허브주소

#3. 팀원 - 브랜치
git checkout -b 브랜치명

#4. 팀원 - 파일작성 
git add .
git commit -m "메시지"
git pull origin 브랜치명
git push origin 브랜치명

※ 충돌 - HEAD , =========, >>>>>>>>>> / 코드수정
```
Q. 1. 팀장 - test2.md 파일 만들기
Q. 2. 팀원 - test2.md

# merge vs rebase
1. 기능 브랜치에서 작업 중 main 브랜치가 업데이트가 된 경우
> 여러 마법사가 함께 주문서를 쓰고있을때
- 내가 주문을 다시쓰면 친구들의 주문이 사라 질수 있음.

★브랜치 꼭 확인!

```
#1. 불꽃마법사가 본인코드 작성중
git add spell2.md
git commit -m "불꽃마법2 추가"

#2. 메인 마법서가 업데이트가 됨. 
불꽃마법사가 최신 마법서 위에 자신의 주문을 다시 써야함.

git checkout master
git pull origin master

#최신 마법서 위에 주문 다시 쓰기 
git checkout 브랜치명
git rebase master    # 주문이 겹쳐서 마법서 충돌남. 어떤 주문 쓸지 선택 / 수정완료

git add apell2.md
git rebase --continue

Esc              ← 먼저 눌러서 명령 모드로 전환  
:                ← 콜론 입력  
wq               ← write & quit (저장하고 종료)  
Enter            ← 실행

#안전하게 주문서 공유
git push --force-with-lease
```

### 내가 정리한거
```
원래는 깃허브에 일단 올린후에 충돌을 정검하는데 rebase를 사용하면 올리기전에 충돌 수정하고 올릴수 있음.

시작시점 branch는 my branch (git branch로 현재 상태 확인 하고 진행)
1) git add spell2.md                -> 내가 수정한 파일 저장
2) git commit -m "불꽃마법2 추가"     -> 메시지 추가

3) git checkout master              -> 마스터로 브랜치 이동
4) git pull origin master           -> 마스터를 github와 최신화 시킴

 
5) git checkout 브랜치명              -> 내 브랜치로 돌아옴
6) git rebase master                 -> 최신화한 master와 내꺼를 비교 및 수정.

7) git add apell2.md                 -> 수정 했으니 다시 파일 저장
8) git rebase --continue             -> 이게 약간 commit 느낌쓰. 뭔가 오류같이 뜰텐데 아래는 빠져나오는 방법

Esc              ← 먼저 눌러서 명령 모드로 전환  
i                ← 메시지 입력(commit)
Enter            ← 실행

Esc              ← 먼저 눌러서 명령 모드로 전환
:                ← 콜론 입력  
wq               ← write & quit (저장하고 종료)  
Enter            ← 실행

9) git push --force-with-lease        -> 안전하게 push하는 커맨드...?
```

#### ■4. fetch vs pull
- fetch : 데이터 가져오기 (충돌이 날지 먼저 확인)
- pull : 데이터 가져오고 바로 합치기 (위험의 가능성)

```bash
#1. [github] test.md - 새로운 사항 업데이트
#2. [local] 작업 - 새로운 변경사항 있는지 확인
    git fetch origin 
#3. 가져온 변경사항 확인
    git log  4fe1297..79d43b6       #위에서 나온 번호 (추천)
    git log HEAD.. origin/master   #..은 (어디 부터 어디까지) 라는 뜻
    git diff HEAD origin/master    # 변경된 내용 확인 
#4. 확인 후 합치기
    git merge origin/master

```

```bash
<순서>
git fetch origin

git log 603e29f..7823b5e(fetch하면 나오는숫자)

git diff HEAD origin master - 바뀐내용 확인(변경X)

git merge origin master - 내 컴퓨터에 있는 파일 변경
```
#### ■5. restore vs checkout
- restore : 파일을 예전상태로 되돌리는 기능 (최근상태로 되돌리기), commit 안했을때 사용가능
- checkout : 브랜치 바꾸거나 파일 되돌리기

```bash
git restore 파일명      #마지막으로 저장(commit)한 상태로 돌아가기.
git restore --source=HEAD~1 파일명      #HEAD~1 1단계 , HEAD~2 2단계 뒤로
                                        #restore 할 때 파일이 있는 폴더명까지 입력 days/day034.md
```
